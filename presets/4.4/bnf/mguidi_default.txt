#$ TITLE: mguidi defaults
#$ FIRMWARE_VERSION: 4.4
#$ CATEGORY: BNF
#$ STATUS: COMMUNITY
#$ KEYWORDS: mguidi, mg, defaults
#$ AUTHOR: Marco Guidi
#$ DESCRIPTION: mguidi defaults

# feature
feature -SOFTSERIAL
feature TELEMETRY

# beeper
beeper -BAT_CRIT_LOW
beeper -BAT_LOW
beeper -ON_USB

# map
map TAER1234

# master
set small_angle = 180
set yaw_motors_reversed = ON
set deadband = 1
set yaw_deadband = 1
set debug_mode = GYRO_SCALED
set vbat_warning_cell_voltage = 360
set mag_hardware = NONE
set baro_hardware = NONE
set pidsum_limit = 1000
set pidsum_limit_yaw = 1000
set pilot_name = DRIVEFPV

# rxrange
rxrange 0 988 2011
rxrange 1 988 2011
rxrange 2 988 2011
rxrange 3 988 2011

rateprofile 0
#$ INCLUDE: presets/4.4/rates/mguidi_freestyle_cinematic.txt

#$ OPTION_GROUP BEGIN: DSHOT

#$ OPTION BEGIN (CHECKED): BIDIR 14p - DSHOT300
set dshot_bidir = ON
set motor_pwm_protocol = DSHOT300
set motor_poles = 14
set pid_process_denom = 2
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): BIDIR 14p - DSHOT600
set dshot_bidir = ON
set motor_pwm_protocol = DSHOT600
set motor_poles = 14
set pid_process_denom = 1
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): BIDIR 12p - DSHOT300
set dshot_bidir = ON
set motor_pwm_protocol = DSHOT300
set motor_poles = 12
set pid_process_denom = 2
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): BIDIR 12p - DSHOT600
set dshot_bidir = ON
set motor_pwm_protocol = DSHOT600
set motor_poles = 12
set pid_process_denom = 1
#$ OPTION END

#$ OPTION_GROUP END


#$ OPTION_GROUP BEGIN: Receiver

#$ OPTION BEGIN (CHECKED): Crossfire
feature RX_SERIAL
set serialrx_provider = CRSF
#$ OPTION END

#$ OPTION_GROUP END


#$ OPTION_GROUP BEGIN: Modes

#$ OPTION BEGIN (CHECKED): Arm, Turtle, DebugMode, Angle, Buzzer, Erase BlackBox
#$ INCLUDE: presets/4.4/modes/mguidi_modes_gps.txt
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): Arm, Turtle, DebugMode, Angle, RTH, Buzzer, Erase BlackBox
#$ INCLUDE: presets/4.4/modes/mguidi_modes_gps.txt
#$ OPTION END

#$ OPTION_GROUP END


#$ OPTION_GROUP BEGIN: GPS

#$ OPTION BEGIN (UNCHECKED): Flywoo GM8-5883 V1.0
feature GPS
set gps_provider = UBLOX
set gps_sbas_mode = EGNOS
set gps_auto_baud = ON
set gps_auto_config = ON
set gps_ublox_use_galileo = ON
set gps_set_home_point_once = ON
set gps_rescue_return_alt = 20
set gps_rescue_ground_speed = 1000
set gps_rescue_pitch_angle_max = 60
set gps_rescue_descent_dist = 30
set gps_rescue_throttle_max = 1800
set gps_rescue_throttle_hover = 1350
set gps_rescue_allow_arming_without_fix = ON
set gps_rescue_sanity_checks = RESCUE_SANITY_FS_ONLY
set gps_rescue_use_mag = OFF
set failsafe_procedure = GPS-RESCUE
rxfail 3 s 1500
rxfail 6 s 1500

#$ OPTION END

#$ OPTION_GROUP END

#$ OPTION_GROUP BEGIN: OSD

#$ OPTION BEGIN (CHECKED): AVATAR
#$ INCLUDE: presets/4.4/osd/mguidi_osd_avatar.txt
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): AVATAR with GPS
#$ INCLUDE: presets/4.4/osd/mguidi_osd_avatar_gps.txt
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): DJI
#$ INCLUDE: presets/4.4/osd/mguidi_osd_dji.txt
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): DJI with GPS
#$ INCLUDE: presets/4.4/osd/mguidi_osd_dji_gps.txt
#$ OPTION END


#$ OPTION BEGIN (UNCHECKED): Analog
#$ INCLUDE: presets/4.4/osd/mguidi_osd_analog.txt
#$ OPTION END

#$ OPTION_GROUP END
